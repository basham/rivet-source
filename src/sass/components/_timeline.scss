// Copyright (C) 2018 The Trustees of Indiana University
// SPDX-License-Identifier: BSD-3-Clause

.#{$prefix}-timeline {
  position: relative;
  padding: $lg 0;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: $xxs;
    background: $color-black--200;
  }

  &__item::after {
    margin-left: -$xxs;
    border: solid transparent;
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
    border-right-color: #f5f5f6;
    border-width: $sm;
    top: .625rem;
  }

  &__item {
    position: relative;
    margin: $lg 0;
  }

  &__marker {
    width: .75rem;
    height: .75rem;
    position: absolute;
    color: $color-white;
    background: $color-midnight;
    border-radius: 50%;
    box-shadow: 0 0 0 5px #f5f5f6;
    margin-top: 1.25rem;
    margin-left: -$xxs;
  }

  &__content {
    padding: $md;
    margin-left: 1.75rem;
  }

  &__date {
    font-size: $ts-14;
    color: $color-black--700;
  }
}

.#{$prefix}-timeline--right {
  &::before {
    left: unset;
    right: 1.125rem;
  }

  .#{$prefix}-timeline__item::after {
    margin-left: 0;
    right: $sm;
    border-left-color: #f5f5f6;
    border-right-color: transparent;
  }

  .#{$prefix}-timeline__marker {
    margin-left: 0;
    right: .75rem;
  }

  .#{$prefix}-timeline__content {
    margin-left: 0;
    margin-right: 3rem;
  }
}

@include mq($breakpoint-md) {
  .#{$prefix}-timeline--center {
    &::before {
      left: 50%;
    }

    .#{$prefix}-timeline__item-right {
      margin-left: auto;
    }

    .#{$prefix}-timeline__item::after {
      margin-left: -$md;
      left: 100%;
      border-left-color: #f5f5f6;
      border-right-color: transparent;
    }

    .#{$prefix}-timeline__item-right::after {
      margin-left: -$sm;
      left: unset;
      border-right-color: #f5f5f6;
      border-left-color: transparent;
    }

    .#{$prefix}-timeline__marker {
      margin-left: -$xxs;
      left: 100%;
    }

    .#{$prefix}-timeline__item-right .#{$prefix}-timeline__marker {
      left: unset;
      margin-left: -$sm;
    }

    .#{$prefix}-timeline__content {
      margin-left: 0;
      margin-right: .75rem;
    }

    .#{$prefix}-timeline__item-right .#{$prefix}-timeline__content {
      margin-right: 0;
      margin-left: $sm;
    }
  }
}

@include mq($breakpoint-xl) {
  .#{$prefix}-timeline {
    &__date--label {
      min-width: 6.25rem;
      min-height: fit-content;
      left: -7.5rem;
      right: initial;
      text-align: right;
      position: absolute;
      display: block;
      top: $sm;
      margin-left: unset;
      margin-top: unset;
      margin-right: unset;
    }
  }

  .#{$prefix}-timeline--center {
    .#{$prefix}-timeline__date--label {
      max-width: fit-content;
      text-align: left;
      position: relative;
      display: block;
      left: unset;
      right: unset;
      top: unset;
      margin-left: 30.5rem;
      margin-top: -3rem;
      margin-bottom: 3rem;
    }

    .#{$prefix}-timeline__item-right .#{$prefix}-timeline__date--label {
      min-width: 6.25rem;
      min-height: fit-content;
      left: -7.5rem;
      right: initial;
      text-align: right;
      position: absolute;
      display: block;
      top: $sm;
      margin-left: unset;
      margin-top: unset;
      margin-right: unset;
    }
  }

  .#{$prefix}-timeline--right {
    .#{$prefix}-timeline__date--label {
      max-width: fit-content;
      text-align: left;
      position: relative;
      display: block;
      left: unset;
      right: unset;
      top: unset;
      margin-left: 60rem;
      margin-top: -3rem;
      margin-bottom: 3rem;
    }
  }
}
